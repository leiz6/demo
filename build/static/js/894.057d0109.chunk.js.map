{"version":3,"file":"static/js/894.057d0109.chunk.js","mappings":"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","sources":["components/Parta/PartaDialog.tsx","view/Parta.tsx"],"sourcesContent":["import { Modal, Form, Input, DatePicker } from \"antd\";\r\nimport React from \"react\";\r\n\r\nconst PartaDialog = ({ isShow, showDialog,addItem }: any) => {\r\n  const [form] = Form.useForm();\r\n\r\n  const handleOk = () => {\r\n    form.submit();\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    showDialog(false);\r\n    form.resetFields()\r\n  };\r\n\r\n  const onFinish = (values: any) => {\r\n    addItem(values)\r\n    showDialog(false);\r\n    form.resetFields()\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title=\"新增甲方\"\r\n      open={isShow}\r\n      onOk={handleOk}\r\n      onCancel={handleCancel}\r\n    >\r\n      <Form\r\n        name=\"basic\"\r\n        form={form}\r\n        labelCol={{ span: 4 }}\r\n        wrapperCol={{ span: 20 }}\r\n        initialValues={{ remember: true }}\r\n        onFinish={onFinish}\r\n        // onFinishFailed={onFinishFailed}\r\n        autoComplete=\"off\"\r\n      >\r\n        <Form.Item\r\n          label=\"甲方名称\"\r\n          name=\"partaname\"\r\n          rules={[{ required: true, message: \"请输入甲方名称\" }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"甲方电话\"\r\n          name=\"tel\"\r\n          validateTrigger=\"onBlur\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入正确的电话\",\r\n              pattern: /^[0-9]{11,11}$/,\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"订单时间\"\r\n          name=\"date\"\r\n          rules={[{ required: true, message: \"请选择订单时间\" }]}\r\n        >\r\n          <DatePicker />\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default PartaDialog;\r\n","import React, { useState, useEffect,useCallback } from \"react\";\r\nimport { Table, Button, Popconfirm } from \"antd\";\r\nimport { EditOutlined, ClearOutlined } from \"@ant-design/icons\";\r\nimport type { ColumnsType } from \"antd/es/table\";\r\nimport PartaDialog from \"../components/Parta/PartaDialog\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  asyncInitList as init,\r\n  asyncAddList as AddList,\r\n  asyncDelList as delList,\r\n  initPayload,\r\n} from \"../store/infoReducer\";\r\nimport dayjs from \"dayjs\";\r\ninterface DataType {\r\n  _id: string;\r\n  partaname: string;\r\n  tel: string;\r\n  date: string;\r\n}\r\n\r\nconst Parta = () => {\r\n  let dispatch = useDispatch();\r\n  const columns: ColumnsType<DataType> = [\r\n    {\r\n      title: \"甲方名称\",\r\n      dataIndex: \"partaname\",\r\n      width: \"25%\",\r\n    },\r\n    {\r\n      title: \"电话\",\r\n      dataIndex: \"tel\",\r\n      width: \"25%\",\r\n    },\r\n    {\r\n      title: \"日期\",\r\n      dataIndex: \"date\",\r\n      width: \"25%\",\r\n      render: (_, record) => dayjs(record.date).format(\"YYYY年MM月DD日\"),\r\n    },\r\n    {\r\n      title: \"状态\",\r\n      dataIndex: \"status\",\r\n      width: \"25%\",\r\n      // align: \"right\",\r\n      render: (_, record) => (\r\n        <Popconfirm\r\n          title=\"你确定要删除吗?\"\r\n          onConfirm={() => {\r\n            delItem(record._id);\r\n          }}\r\n          onCancel={cancel}\r\n          okText=\"确定\"\r\n          cancelText=\"取消\"\r\n        >\r\n          <Button\r\n            type=\"primary\"\r\n            style={{ backgroundColor: \"#e2a241\", border: \"#edc523\" }}\r\n            icon={<ClearOutlined />}\r\n          >\r\n            删除\r\n          </Button>\r\n        </Popconfirm>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  let getList =useCallback(\r\n    () => {\r\n      dispatch(init(initPayload.partaList) as any);\r\n    },\r\n    [dispatch],\r\n  )\r\n  useEffect(() => {\r\n    getList()\r\n  }, [getList]);\r\n\r\n  let cancel = () => {};\r\n  let list = useSelector((state: any) => state.info.partaList);\r\n  let [isShow, setIsshow] = useState(false);\r\n  let showDialog = (val: boolean) => {\r\n    setIsshow(val);\r\n  };\r\n  let addItem = (val: object) => {\r\n    dispatch(AddList(val, initPayload.partaList) as any);\r\n  };\r\n  let delItem = (_id: string) => {\r\n    dispatch(delList(_id, initPayload.partaList) as any);\r\n  };\r\n  return (\r\n    <div style={{maxHeight:\"100%\",overflowY:\"auto\"}}>\r\n      <Table\r\n        columns={columns}\r\n        dataSource={list}\r\n        rowKey=\"_id\"\r\n        bordered\r\n        pagination={false}\r\n        title={() => (\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => {\r\n              showDialog(true);\r\n            }}\r\n            icon={<EditOutlined />}\r\n          >\r\n            新增甲方\r\n          </Button>\r\n        )}\r\n        // footer={() => \"Footer\"}\r\n      />\r\n      <PartaDialog\r\n        isShow={isShow}\r\n        showDialog={showDialog}\r\n        addItem={addItem}\r\n      ></PartaDialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Parta;\r\n"],"names":["isShow","showDialog","addItem","Form","form","title","open","onOk","submit","onCancel","resetFields","name","labelCol","span","wrapperCol","initialValues","remember","onFinish","values","autoComplete","label","rules","required","message","validateTrigger","pattern","dispatch","useDispatch","columns","dataIndex","width","render","_","record","dayjs","date","format","onConfirm","delItem","_id","cancel","okText","cancelText","type","style","backgroundColor","border","icon","ClearOutlined","getList","useCallback","init","initPayload","useEffect","list","useSelector","state","info","partaList","useState","setIsshow","val","delList","maxHeight","overflowY","dataSource","rowKey","bordered","pagination","onClick","EditOutlined","AddList"],"sourceRoot":""}