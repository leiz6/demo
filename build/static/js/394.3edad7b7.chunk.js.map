{"version":3,"file":"static/js/394.3edad7b7.chunk.js","mappings":"mQA6DA,EA1DoB,SAAC,GAAyC,IAAvCA,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,WAAWC,EAAmB,EAAnBA,QACxC,EAAeC,EAAAA,EAAAA,UAARC,GAAP,eAiBA,OACE,SAAC,IAAD,CACEC,MAAM,2BACNC,KAAMN,EACNO,KAnBa,WACfH,EAAKI,QACN,EAkBGC,SAhBiB,WACnBR,GAAW,GACXG,EAAKM,aACN,EASC,UAME,UAAC,IAAD,CACEC,KAAK,QACLP,KAAMA,EACNQ,SAAU,CAAEC,KAAM,GAClBC,WAAY,CAAED,KAAM,IACpBE,cAAe,CAAEC,UAAU,GAC3BC,SAnBW,SAACC,GAChBhB,EAAQgB,GACRjB,GAAW,GACXG,EAAKM,aACN,EAgBKS,aAAa,MAPf,WASE,SAAC,SAAD,CACEC,MAAM,2BACNT,KAAK,YACLU,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,+CAHrC,UAKE,SAAC,IAAD,OAEF,SAAC,SAAD,CACEH,MAAM,2BACNT,KAAK,MACLU,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,yCANf,UAUE,SAAC,IAAD,UAKT,E,oBC4CD,EArFc,WACZ,IAAMC,EAAiC,CACrC,CACEnB,MAAO,2BACPoB,UAAW,aAEb,CACEpB,MAAO,eACPoB,UAAW,OAEb,CACEpB,MAAO,eACPoB,UAAW,SACXC,OAAQ,SAACC,EAAGC,GAAJ,OACN,SAAC,IAAD,CACEvB,MAAM,8CACNwB,UAAW,WACTC,EAAQF,EAAOG,IAChB,EAEDC,OAAO,eACPC,WAAW,eAPb,UASE,SAAC,IAAD,CACEC,KAAK,UACLC,MAAO,CAAEC,gBAAiB,UAAWC,OAAQ,WAC7CC,MAAM,SAACC,EAAA,EAAD,IAHR,2BAVI,IAsBZ,GAA0BC,EAAAA,EAAAA,WAAS,GAAnC,eAAKxC,EAAL,KAAayC,EAAb,KACIxC,EAAa,SAACyC,GAChBD,EAAUC,EACX,EACGC,GAAWC,EAAAA,EAAAA,MAEXC,GAAUC,EAAAA,EAAAA,cAAY,WACxBH,GAASI,EAAAA,EAAAA,IAAKC,EAAAA,GAAAA,WACf,GAAE,CAACL,KACJM,EAAAA,EAAAA,YAAU,WACRJ,GACD,GAAE,CAACA,IAEJ,IAAIK,GAAOC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAgBA,EAAMC,KAAKC,SAA3B,IAInBxB,EAAU,SAACC,GACbY,GAASY,EAAAA,EAAAA,IAAQxB,EAAKiB,EAAAA,GAAAA,WACvB,EACD,OACE,iBAAKb,MAAO,CAACqB,UAAU,OAAOC,UAAU,QAAxC,WACE,SAAC,IAAD,CACEjC,QAASA,EACTkC,WAAYR,EACZS,OAAO,MACPC,UAAQ,EACRC,YAAY,EACZxD,MAAO,kBACL,SAAC,IAAD,CACE6B,KAAK,UACL4B,QAAS,WACP7D,GAAW,EACZ,EACDqC,MAAM,SAACyB,EAAA,EAAD,IALR,qCADK,KAaT,SAAC,EAAD,CACE/D,OAAQA,EACRC,WAAYA,EACZC,QA9BQ,SAACwC,GACbC,GAASqB,EAAAA,EAAAA,IAAQtB,EAAKM,EAAAA,GAAAA,WACvB,MAgCF,C","sources":["components/Partb/PartbDialog.tsx","view/Partb.tsx"],"sourcesContent":["import { Modal, Form, Input } from \"antd\";\r\nimport React from \"react\";\r\n\r\nconst PartbDialog = ({ isShow, showDialog,addItem }: any) => {\r\n  const [form] = Form.useForm();\r\n\r\n  const handleOk = () => {\r\n    form.submit();\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    showDialog(false);\r\n    form.resetFields();\r\n  };\r\n\r\n  const onFinish = (values: any) => {\r\n    addItem(values)\r\n    showDialog(false);\r\n    form.resetFields()\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title=\"新增乙方\"\r\n      open={isShow}\r\n      onOk={handleOk}\r\n      onCancel={handleCancel}\r\n    >\r\n      <Form\r\n        name=\"basic\"\r\n        form={form}\r\n        labelCol={{ span: 4 }}\r\n        wrapperCol={{ span: 20 }}\r\n        initialValues={{ remember: true }}\r\n        onFinish={onFinish}\r\n        autoComplete=\"off\"\r\n      >\r\n        <Form.Item\r\n          label=\"乙方名称\"\r\n          name=\"partbname\"\r\n          rules={[{ required: true, message: \"请输入乙方名称\" }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"乙方传真\"\r\n          name=\"fax\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"请输入传真号\",\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default PartbDialog;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { Table, Button, Popconfirm } from \"antd\";\r\nimport { EditOutlined, ClearOutlined } from \"@ant-design/icons\";\r\nimport type { ColumnsType } from \"antd/es/table\";\r\nimport PartbDialog from \"../components/Partb/PartbDialog\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  asyncAddList as addList,\r\n  asyncDelList as delList,\r\n  asyncInitList as init,\r\n  initPayload,\r\n} from \"../store/infoReducer\";\r\ninterface DataType {\r\n  _id: string;\r\n  partbname: string;\r\n  fax: string;\r\n}\r\n\r\nconst Partb = () => {\r\n  const columns: ColumnsType<DataType> = [\r\n    {\r\n      title: \"乙方名称\",\r\n      dataIndex: \"partbname\",\r\n    },\r\n    {\r\n      title: \"传真\",\r\n      dataIndex: \"fax\",\r\n    },\r\n    {\r\n      title: \"状态\",\r\n      dataIndex: \"status\",\r\n      render: (_, record) => (\r\n        <Popconfirm\r\n          title=\"你确定要删除吗?\"\r\n          onConfirm={() => {\r\n            delItem(record._id);\r\n          }}\r\n          // onCancel={cancel}\r\n          okText=\"确定\"\r\n          cancelText=\"取消\"\r\n        >\r\n          <Button\r\n            type=\"primary\"\r\n            style={{ backgroundColor: \"#e2a241\", border: \"#edc523\" }}\r\n            icon={<ClearOutlined />}\r\n          >\r\n            删除\r\n          </Button>\r\n        </Popconfirm>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  let [isShow, setIsshow] = useState(false);\r\n  let showDialog = (val: boolean) => {\r\n    setIsshow(val);\r\n  };\r\n  let dispatch = useDispatch();\r\n\r\n  let getList = useCallback(() => {\r\n    dispatch(init(initPayload.partbList) as any);\r\n  }, [dispatch]);\r\n  useEffect(() => {\r\n    getList();\r\n  }, [getList]);\r\n\r\n  let list = useSelector((state: any) => state.info.partbList);\r\n  let addItem = (val: object) => {\r\n    dispatch(addList(val, initPayload.partbList) as any);\r\n  };\r\n  let delItem = (_id: string) => {\r\n    dispatch(delList(_id, initPayload.partbList) as any);\r\n  };\r\n  return (\r\n    <div style={{maxHeight:\"100%\",overflowY:\"auto\"}}>\r\n      <Table\r\n        columns={columns}\r\n        dataSource={list}\r\n        rowKey=\"_id\"\r\n        bordered\r\n        pagination={false}\r\n        title={() => (\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => {\r\n              showDialog(true);\r\n            }}\r\n            icon={<EditOutlined />}\r\n          >\r\n            新增乙方\r\n          </Button>\r\n        )}\r\n        // footer={() => \"Footer\"}\r\n      />\r\n      <PartbDialog\r\n        isShow={isShow}\r\n        showDialog={showDialog}\r\n        addItem={addItem}\r\n      ></PartbDialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Partb;\r\n"],"names":["isShow","showDialog","addItem","Form","form","title","open","onOk","submit","onCancel","resetFields","name","labelCol","span","wrapperCol","initialValues","remember","onFinish","values","autoComplete","label","rules","required","message","columns","dataIndex","render","_","record","onConfirm","delItem","_id","okText","cancelText","type","style","backgroundColor","border","icon","ClearOutlined","useState","setIsshow","val","dispatch","useDispatch","getList","useCallback","init","initPayload","useEffect","list","useSelector","state","info","partbList","delList","maxHeight","overflowY","dataSource","rowKey","bordered","pagination","onClick","EditOutlined","addList"],"sourceRoot":""}