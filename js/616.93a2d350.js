"use strict";(self["webpackChunkrujiayouxuan"]=self["webpackChunkrujiayouxuan"]||[]).push([[616],{4616:function(t,s,i){i.r(s),i.d(s,{default:function(){return u}});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"main"},[s("div",{staticClass:"cartop"},[t._v(" 购物车("+t._s(t.list.length)+") "),s("span",{staticClass:"iconfont icon-lajitong",on:{click:t.delGoods}})]),s("div",{staticClass:"goodslist"},t._l(t.list,(function(i){return s("div",{key:i.id,staticClass:"item"},[s("div",{staticClass:"itemleft"},[s("van-checkbox",{attrs:{value:i.checked},on:{click:function(s){return t.changeCheckedOne(i)}}})],1),s("div",{staticClass:"itemmidd"},[s("van-image",{attrs:{width:"100%",height:"100%",src:i.img}})],1),s("div",{staticClass:"itemright"},[s("div",{staticClass:"itemright-top"},[s("div",[t._v(t._s(i.goodsname))]),s("div",[t._v(t._s(i.colorname)+"；"+t._s(i.ggname))])]),s("div",{staticClass:"itemright-bot"},[s("div",{staticClass:"price"},[t._v(" ¥"),s("span",[t._v(t._s(i.price.toFixed(2)))])]),s("div",{staticClass:"num"},[s("div",{staticClass:"sub"},[s("span",{staticClass:"iconfont icon-jianhao",class:{disabled:i.num<=1},on:{click:function(s){return t.subNum(i)}}})]),s("div",{staticClass:"inp"},[s("input",{attrs:{type:"number"},domProps:{value:i.num},on:{blur:function(s){return t.inpNum(s,i)}}})]),s("div",{staticClass:"add"},[s("span",{staticClass:"iconfont icon-jiahao1",class:{disabled:i.num>=999},on:{click:function(s){return t.addNum(i)}}})])])])])])})),0),s("div",{staticClass:"carbot"},[s("div",{staticClass:"carbot-left"},[s("van-checkbox",{staticClass:"checkall",on:{click:t.checkedAllchange},model:{value:t.checkedAll,callback:function(s){t.checkedAll=s},expression:"checkedAll"}}),t._v(" 全选 ")],1),s("div",{staticClass:"carbot-midd"},[s("span",[t._v("合计："),s("span",[t._v("¥ "+t._s(t.price))])])]),s("div",{staticClass:"carbot-right",on:{click:t.onOrder}},[s("div",{staticClass:"btnup"},[t._v("结算")])])])])},e=[],c=i(3822),n={data(){return{checkedAll:!1}},computed:{...(0,c.rn)(["userinfo"]),...(0,c.rn)("shoppingcar",["list"]),...(0,c.Se)("shoppingcar",["price"])},methods:{...(0,c.OI)("shoppingcar",["updataCheckedAll","updataCheckedOne"]),...(0,c.nv)("shoppingcar",["changeNum","delCarList"]),changeCheckedOne(t){this.updataCheckedOne(t),this.watchCheckedAllchange()},checkedAllchange(){this.updataCheckedAll(this.checkedAll)},watchCheckedAllchange(){this.list.length?this.checkedAll=this.list.every((t=>t.checked)):this.checkedAll=!1},delGoods(){let t=this.list.filter((t=>t.checked));t.length?this.$dialog.confirm({title:"删除",message:"是否删除选中的商品?"}).then((()=>{this.delCarList(this.list)})).catch((()=>{})):this.$toast("选择商品后才可以删除哦")},subNum(t){t.num>1?this.changeNum({id:t.id,num:t.num-1}):this.$toast("最少选择一件")},addNum(t){t.num<999?this.changeNum({id:t.id,num:t.num+1}):this.$toast("超出最大购买上限")},inpNum(t,s){return t.target.value<1?(this.$toast("输入的值最少一件"),t.target.value=s.num,!1):t.target.value>999?(this.$toast("超出最大购买上限"),t.target.value=s.num,!1):void this.changeNum({id:s.id,num:1*t.target.value})},onOrder(){this.list.some((t=>t.checked))?this.$router.push("/pay"):this.$toast("选择商品后才可以结算哦")}},created(){this.watchCheckedAllchange()}},l=n,d=i(1001),h=(0,d.Z)(l,a,e,!1,null,"5b90c072",null),u=h.exports}}]);
//# sourceMappingURL=616.93a2d350.js.map