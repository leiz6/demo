"use strict";(self["webpackChunkrujiayouxuan"]=self["webpackChunkrujiayouxuan"]||[]).push([[832],{1832:function(s,t,a){a.r(t),a.d(t,{default:function(){return C}});var i=function(){var s=this,t=s._self._c;return t("div",{staticClass:"search"},[t("div",{staticClass:"searchtop"},[t("div",{staticClass:"searchbox"},[t("div",{staticClass:"inputbox"},[t("div",{staticClass:"iconinp",on:{click:s.inpClick}},[t("span",{staticClass:"iconfont icon-sousuoxiao"}),t("input",{directives:[{name:"model",rawName:"v-model",value:s.searchText,expression:"searchText"}],attrs:{type:"text",placeholder:"请输入商品名称"},domProps:{value:s.searchText},on:{input:function(t){t.target.composing||(s.searchText=t.target.value)}}}),t("div",{directives:[{name:"show",rawName:"v-show",value:s.searchText,expression:"searchText"}],staticClass:"chacha",on:{click:s.clearInp}},[t("span",{staticClass:"iconfont icon-chacha"})])])]),t("div",{staticClass:"cancel",on:{click:s.gotoHome}},[s._v("取消")])])]),t("search-list",{attrs:{text:s.searchText}})],1)},e=[],o=a(2932),c=function(){var s=this,t=s._self._c;return t("div",{staticClass:"search-list"},[t("van-list",{attrs:{finished:s.finished,"finished-text":"没有更多了"},on:{load:s.onLoad},model:{value:s.loading,callback:function(t){s.loading=t},expression:"loading"}},[t("div",{staticClass:"goodslist"},s._l(s.goodsList,(function(a,i){return t("div",{key:JSON.stringify(a)+i,staticClass:"goods",on:{click:function(t){return s.gotoDetail(a)}}},[t("div",{staticClass:"goodsimg"},[t("img",{attrs:{src:a.img}})]),t("div",{staticClass:"goodsinfo"},[t("div",{staticClass:"name"},[s._v(" "+s._s(a.name)+" ")]),t("div",{staticClass:"price"},[t("div",{staticClass:"text"},[s._v(" ¥"),t("span",[s._v(s._s(a.price))])]),t("div",{staticClass:"btn"},[s._v("购买")])])])])})),0)])],1)},n=[],r=a(5687),l={query:s=>(0,r.Z)({url:"/searchresult",method:"get",params:s})},h=a(3822),d={props:["text"],data(){return{goodsList:[],loading:!1,finished:!1}},watch:{ischange(){this.onRefresh()}},methods:{...(0,h.OI)(["setGoodsInfo"]),async onLoad(){let{data:s}=await l.query({q:this.text});this.loading=!1,this.goodsList=s,this.finished=!0},gotoDetail(s){this.$router.push("/detail/"+s.goodsId)}}},u=d,p=a(1001),v=(0,p.Z)(u,c,n,!1,null,"836e3f88",null),m=v.exports,x={mixins:[o.Z],components:{searchList:m},data(){return{searchText:""}},created(){this.searchText=this.$route.params.searchText},methods:{clearInp(){this.searchText=""},gotoHome(){this.$router.push("/home")},inpClick(){this.$router.push("/search")}}},f=x,g=(0,p.Z)(f,i,e,!1,null,"30f6e64c",null),C=g.exports},2932:function(s,t){t["Z"]={mounted(){this.$store.commit("isShowTabbar",!1)},destroyed(){this.$store.commit("isShowTabbar",!0)}}}}]);
//# sourceMappingURL=832.627662c2.js.map