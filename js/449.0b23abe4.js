"use strict";(self["webpackChunkrujiayouxuan"]=self["webpackChunkrujiayouxuan"]||[]).push([[449],{5449:function(t,s,i){i.r(s),i.d(s,{default:function(){return m}});var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"search"},[s("div",{staticClass:"searchtop"},[s("div",{staticClass:"retbtn",on:{click:t.retClick}},[s("span",{staticClass:"iconfont icon-zuo"})]),s("div",{staticClass:"searchbox"},[s("div",{staticClass:"inputbox"},[s("div",{staticClass:"iconinp"},[s("span",{staticClass:"iconfont icon-sousuoxiao"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],attrs:{type:"text",placeholder:"请输入商品名称"},domProps:{value:t.searchText},on:{input:function(s){s.target.composing||(t.searchText=s.target.value)}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.searchText,expression:"searchText"}],staticClass:"chacha",on:{click:t.clearInp}},[s("span",{staticClass:"iconfont icon-chacha"})])])]),s("div",{staticClass:"btnbox",on:{click:t.searchClick}},[t._v("搜索")])])]),s("search-history",{attrs:{history:t.history},on:{historyClick:t.historyClick,removeHistory:t.removeHistory}})],1)},o=[],r=i(2932),a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"record"},[s("div",{staticClass:"recordtop"},[s("div",{staticClass:"title"},[t._v("历史记录")]),s("div",[s("span",{staticClass:"iconfont icon-lajitong",on:{click:t.delHistory}})])]),s("div",{staticClass:"recordcont"},t._l(t.history,(function(i,e){return s("span",{key:i+e,on:{click:function(s){return t.gotoSearch(i)}}},[t._v(t._s(i))])})),0)])},c=[],h={props:["history"],methods:{gotoSearch(t){this.$emit("historyClick",t)},delHistory(){this.$dialog.confirm({title:"是否删除历史记录?"}).then((()=>{this.$emit("removeHistory")})).catch((()=>{}))}}},n=h,l=i(1001),u=(0,l.Z)(n,a,c,!1,null,"3d4a0598",null),d=u.exports,p={mixins:[r.Z],components:{searchHistory:d},data(){return{searchText:"",history:[]}},watch:{isclick(t){console.log(t),this.updateSearchHistory()}},created(){this.updateSearchHistory()},methods:{updateSearchHistory(){let t=window.localStorage.getItem("searchhistory");t&&(this.history=JSON.parse(t))},retClick(){this.$router.go(-1)},historyClick(t){this.searchText=t,this.searchClick()},removeHistory(){this.history=[],window.localStorage.removeItem("searchhistory")},searchClick(){if(this.searchText){this.$router.push("/searchlist/"+this.searchText);let t=!0;this.history.forEach((s=>{s==this.searchText&&(t=!1)})),t&&window.localStorage.setItem("searchhistory",JSON.stringify([...this.history,this.searchText]))}else this.$toast("请输入内容后搜索")},clearInp(){this.searchText=""},gotoHome(){this.$router.push("/home")}}},y=p,v=(0,l.Z)(y,e,o,!1,null,"060f2648",null),m=v.exports},2932:function(t,s){s["Z"]={mounted(){this.$store.commit("isShowTabbar",!1)},destroyed(){this.$store.commit("isShowTabbar",!0)}}}}]);
//# sourceMappingURL=449.0b23abe4.js.map